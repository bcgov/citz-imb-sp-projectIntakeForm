{"ast":null,"code":"var _jsxFileName = \"C:\\\\webProjects\\\\project-intake-form\\\\src\\\\components\\\\Table\\\\Table.tsx\";\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { SPDialog, getListAndItems } from \"Components\";\nimport { icons } from \"Components\";\nexport const SPList = ({\n  listName: string,\n  addItem = true,\n  addOptions = {\n    title: \"Add Item\",\n    content: \"Content\",\n    saveButtonText: \"Save\",\n    saveAction: () => {\n      console.log(\"I am saved\");\n    },\n    cancelButtonText: \"Cancel\",\n    cancelAction: () => {\n      console.log(\"I am lost\");\n    }\n  },\n  deleteItem = true,\n  editItem = true,\n  changeItemPermission = true,\n  customActions,\n  options,\n  isDirty = true,\n  handleDirty = dirty => {\n    console.log(`handleDirty Default has been passed '${dirty}'`);\n  },\n  tableTitle\n}) => {\n  const [data, setData] = useState([]);\n  const [columns, setColumns] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [actions, setActions] = useState([]);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [dialogTitle, setDialogTitle] = useState();\n  const [dialogContent, setDialogContent] = useState();\n  const [dialogSaveButtonText, setDialogSaveButtonText] = useState();\n  const [dialogSaveAction, setDialogSaveAction] = useState();\n  const [dialogCancelButtonText, setDialogCancelButtonText] = useState();\n  const [dialogCancelAction, setDialogCancelAction] = useState();\n\n  const saveButtonHandler = results => {\n    addOptions.saveAction(results);\n    handleDirty(true);\n    setDialogOpen(false);\n  };\n\n  const cancelButtonHandler = results => {\n    addOptions.cancelAction(results);\n    setDialogOpen(false);\n  };\n\n  useEffect(() => {\n    if (addItem) {\n      setActions(prevActions => {\n        prevActions.push({\n          icon: icons.Add,\n          tooltip: \"Add Item\",\n          isFreeAction: true,\n          onClick: (event, rowdata) => {\n            setDialogTitle(addOptions.title);\n            setDialogContent(addOptions.content);\n            setDialogSaveButtonText(addOptions.saveButtonText);\n            setDialogCancelButtonText(addOptions.cancelButtonText);\n            setDialogCancelAction(() => {\n              return () => {\n                setIsLoading(false);\n                addOptions.cancelAction();\n              };\n            });\n            setDialogOpen(true);\n          }\n        });\n        return prevActions;\n      });\n    }\n\n    if (deleteItem) {\n      setActions(prevActions => {\n        prevActions.push({\n          icon: icons.Delete,\n          tooltip: \"Delete Item\",\n          onClick: (event, rowdata) => {//TODO: delete item actions\n          }\n        });\n        return prevActions;\n      });\n    }\n\n    if (editItem) {\n      setActions(prevActions => {\n        prevActions.push({\n          icon: icons.Edit,\n          tooltip: \"Edit Item\",\n          onClick: (event, rowdata) => {//TODO: edit item actions\n          }\n        });\n        return prevActions;\n      });\n    }\n\n    if (changeItemPermission) {\n      setActions(prevActions => {\n        prevActions.push({\n          icon: icons.People,\n          tooltip: \"Change Item Permissions\",\n          onClick: (event, rowdata) => {//TODO: change item permissions actions\n          }\n        });\n        return prevActions;\n      });\n    }\n\n    if (customActions) {\n      customActions.map((action, index) => {\n        action.icon = icons[action.icon];\n        return setActions(prevActions => {\n          prevActions.push(action);\n          return prevActions;\n        });\n      });\n    }\n\n    return () => {};\n  }, []);\n\n  const populateTable = async () => {\n    setIsLoading(true);\n    const list = await getListAndItems(listName);\n\n    if (tableTitle) {\n      setTitle(tableTitle);\n    } else {\n      setTitle(list.title);\n    }\n\n    setColumns(list.columns);\n    setData(list.items);\n    handleDirty(false);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    if (isDirty) {\n      populateTable();\n    }\n\n    return () => {};\n  }, [isDirty]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    columns: columns,\n    data: data,\n    title: title,\n    options: options,\n    actions: actions,\n    isLoading: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SPDialog, {\n    open: dialogOpen,\n    title: dialogTitle,\n    content: dialogContent,\n    saveButtonText: dialogSaveButtonText,\n    saveButtonAction: saveButtonHandler,\n    cancelButtonText: dialogCancelButtonText,\n    cancelButtonAction: cancelButtonHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["C:/webProjects/project-intake-form/src/components/Table/Table.tsx"],"names":["React","useState","useEffect","Fragment","MaterialTable","SPDialog","getListAndItems","icons","SPList","listName","string","addItem","addOptions","title","content","saveButtonText","saveAction","console","log","cancelButtonText","cancelAction","deleteItem","editItem","changeItemPermission","customActions","options","isDirty","handleDirty","dirty","tableTitle","data","setData","columns","setColumns","setTitle","actions","setActions","dialogOpen","setDialogOpen","isLoading","setIsLoading","dialogTitle","setDialogTitle","dialogContent","setDialogContent","dialogSaveButtonText","setDialogSaveButtonText","dialogSaveAction","setDialogSaveAction","dialogCancelButtonText","setDialogCancelButtonText","dialogCancelAction","setDialogCancelAction","saveButtonHandler","results","cancelButtonHandler","prevActions","push","icon","Add","tooltip","isFreeAction","onClick","event","rowdata","Delete","Edit","People","map","action","index","populateTable","list","items"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { SPDialog, getListAndItems } from \"Components\";\r\nimport { icons } from \"Components\";\r\n\r\nexport const SPList = ({\r\n  listName: string,\r\n  addItem = true,\r\n  addOptions = {\r\n    title: \"Add Item\",\r\n    content: \"Content\",\r\n    saveButtonText: \"Save\",\r\n    saveAction: () => {\r\n      console.log(\"I am saved\");\r\n    },\r\n    cancelButtonText: \"Cancel\",\r\n    cancelAction: () => {\r\n      console.log(\"I am lost\");\r\n    },\r\n  },\r\n  deleteItem = true,\r\n  editItem = true,\r\n  changeItemPermission = true,\r\n  customActions,\r\n  options,\r\n  isDirty = true,\r\n  handleDirty = (dirty) => {\r\n    console.log(`handleDirty Default has been passed '${dirty}'`);\r\n  },\r\n  tableTitle,\r\n}) => {\r\n  const [data, setData] = useState([]);\r\n  const [columns, setColumns] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [actions, setActions] = useState([]);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [dialogTitle, setDialogTitle] = useState();\r\n  const [dialogContent, setDialogContent] = useState();\r\n  const [dialogSaveButtonText, setDialogSaveButtonText] = useState();\r\n  const [dialogSaveAction, setDialogSaveAction] = useState();\r\n  const [dialogCancelButtonText, setDialogCancelButtonText] = useState();\r\n  const [dialogCancelAction, setDialogCancelAction] = useState();\r\n\r\n  const saveButtonHandler = (results) => {\r\n    addOptions.saveAction(results);\r\n    handleDirty(true);\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  const cancelButtonHandler = (results) => {\r\n    addOptions.cancelAction(results);\r\n    setDialogOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (addItem) {\r\n      setActions((prevActions) => {\r\n        prevActions.push({\r\n          icon: icons.Add,\r\n          tooltip: \"Add Item\",\r\n          isFreeAction: true,\r\n          onClick: (event, rowdata) => {\r\n            setDialogTitle(addOptions.title);\r\n            setDialogContent(addOptions.content);\r\n            setDialogSaveButtonText(addOptions.saveButtonText);\r\n\r\n            setDialogCancelButtonText(addOptions.cancelButtonText);\r\n            setDialogCancelAction(() => {\r\n              return () => {\r\n                setIsLoading(false);\r\n                addOptions.cancelAction();\r\n              };\r\n            });\r\n            setDialogOpen(true);\r\n          },\r\n        });\r\n\r\n        return prevActions;\r\n      });\r\n    }\r\n\r\n    if (deleteItem) {\r\n      setActions((prevActions) => {\r\n        prevActions.push({\r\n          icon: icons.Delete,\r\n          tooltip: \"Delete Item\",\r\n          onClick: (event, rowdata) => {\r\n            //TODO: delete item actions\r\n          },\r\n        });\r\n\r\n        return prevActions;\r\n      });\r\n    }\r\n\r\n    if (editItem) {\r\n      setActions((prevActions) => {\r\n        prevActions.push({\r\n          icon: icons.Edit,\r\n          tooltip: \"Edit Item\",\r\n          onClick: (event, rowdata) => {\r\n            //TODO: edit item actions\r\n          },\r\n        });\r\n\r\n        return prevActions;\r\n      });\r\n    }\r\n\r\n    if (changeItemPermission) {\r\n      setActions((prevActions) => {\r\n        prevActions.push({\r\n          icon: icons.People,\r\n          tooltip: \"Change Item Permissions\",\r\n          onClick: (event, rowdata) => {\r\n            //TODO: change item permissions actions\r\n          },\r\n        });\r\n\r\n        return prevActions;\r\n      });\r\n    }\r\n\r\n    if (customActions) {\r\n      customActions.map((action, index) => {\r\n        action.icon = icons[action.icon];\r\n\r\n        return setActions((prevActions) => {\r\n          prevActions.push(action);\r\n          return prevActions;\r\n        });\r\n      });\r\n    }\r\n    return () => {};\r\n  }, []);\r\n\r\n  const populateTable = async () => {\r\n    setIsLoading(true);\r\n\r\n    const list = await getListAndItems(listName);\r\n\r\n    if (tableTitle) {\r\n      setTitle(tableTitle);\r\n    } else {\r\n      setTitle(list.title);\r\n    }\r\n\r\n    setColumns(list.columns);\r\n    setData(list.items);\r\n\r\n    handleDirty(false);\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDirty) {\r\n      populateTable();\r\n    }\r\n\r\n    return () => {};\r\n  }, [isDirty]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <MaterialTable columns={columns} data={data} title={title} options={options} actions={actions} isLoading={isLoading} />\r\n      <SPDialog\r\n        open={dialogOpen}\r\n        title={dialogTitle}\r\n        content={dialogContent}\r\n        saveButtonText={dialogSaveButtonText}\r\n        saveButtonAction={saveButtonHandler}\r\n        cancelButtonText={dialogCancelButtonText}\r\n        cancelButtonAction={cancelButtonHandler}\r\n      />\r\n    </Fragment>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}